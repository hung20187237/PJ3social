{"version":3,"sources":["../src/components/FacebookProvider.tsx","../src/constants/LoginStatus.ts","../src/errors/FBError.ts","../src/utils/Facebook.ts","../src/components/FacebookContext.tsx","../src/components/Parser.tsx","../src/hooks/useFacebook.ts","../src/components/Like.tsx","../src/utils/getCurrentHref.ts","../src/hooks/useShare.ts","../src/utils/clearUndefinedProperties.ts","../src/components/ShareButton.tsx","../src/components/Page.tsx","../src/hooks/useLogin.ts","../src/components/LoginButton.tsx","../src/components/EmbeddedPost.tsx","../src/components/EmbeddedVideo.tsx","../src/components/Comments.tsx","../src/components/CommentsCount.tsx","../src/components/Group.tsx","../src/components/CustomChat.tsx","../src/components/MessageUs.tsx","../src/components/MessengerCheckbox.tsx","../src/components/SendToMessenger.tsx","../src/constants/LikeSize.ts","../src/constants/LikeLayout.ts","../src/constants/ColorScheme.ts","../src/constants/LikeAction.ts","../src/constants/CommentsOrderBy.ts","../src/constants/MessengerSize.ts","../src/constants/MessengerColor.ts","../src/constants/Fields.ts","../src/hooks/useLoginStatus.ts","../src/hooks/useSubscribe.ts","../src/hooks/useProfile.ts"],"names":["useState","useEffect","LoginStatus","LoginStatus_default","FBError","message","code","type","defaultOptions","Facebook","options","resolve","domain","language","debug","chatSupport","restOptions","js","namespace","before","after","fb","reject","response","path","method","params","scope","authType","returnScopes","rerequest","reauthorize","loginOptions","loginResponse","tokenDetail","to","ogNamespace","ogAction","ogObject","ogObjectUrl","noFeedStory","url","permissions","usersPermissions","p","row","permission","status","eventName","callback","parentNode","requestID","product","quantity","createContext","FacebookContext_default","api","FacebookProvider","props","children","isLoading","setIsLoading","isReady","setIsReady","error","setError","init","parse","element","lazy","value","memo","forwardRef","useCallback","useContext","useFacebook","context","ParserInternal","ref","inline","rest","Parser","setElement","handleRef","Parser_default","canUseDOM","getCurrentHref","Like","href","layout","colorScheme","action","showFaces","share","width","size","kidDirectedSite","referral","Like_default","clearUndefinedProperties","obj","newObj","propertyName","useShare","handleShare","display","hashtag","redirectUri","ShareButton","AsChild","disabled","Page","style","tabs","hideCover","height","showFacepile","hideCTA","smallHeader","adaptContainerWidth","Page_default","useLogin","isLoadingLogin","setIsLoadingLogin","latestResponse","setLatestResponse","handleLogin","LoginButton","onError","onSuccess","login","EmbeddedPost","showText","EmbeddedPost_default","EmbeddedVideo","allowFullScreen","autoPlay","showCaptions","EmbeddedVideo_default","Comments","numPosts","orderBy","mobile","Comments_default","CommentsCount","CommentsCount_default","Group","showSocialContext","showMetaData","skin","Group_default","CustomChat","pageId","themeColor","loggedInGreeting","loggedOutGreeting","dataRef","greetingDialogDisplay","greetingDialogDelay","minimized","CustomChat_default","MessageUs","color","messengerAppId","MessageUs_default","MessengerCheckbox","origin","prechecked","allowLogin","userRef","centerAlign","MessengerCheckbox_default","SendToMessenger","enforceLogin","SendToMessenger_default","LikeSize","LikeSize_default","LikeLayout","LikeLayout_default","ColorScheme","ColorScheme_default","LikeAction","LikeAction_default","CommentsOrderBy","CommentsOrderBy_default","MessengerSize","MessengerSize_default","MessengerColor","MessengerColor_default","Fields_default","useSubscribe","event","lastValue","setLastValue","handleResponse","handleSubscribe","handleUnsubscribe","useLoginStatus","setStatus","handleStatusChanges","handleGetInitState","useProfile","fields","profile","setProfile","updateProfile"],"mappings":"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","sourcesContent":["import { useState, useEffect, type ReactNode } from 'react';\nimport Facebook, { type FacebookOptions } from '../utils/Facebook';\nimport FacebookContext, { type FacebookContextInterface } from './FacebookContext';\n\nlet api: Facebook | undefined;\n\nexport type FacebookProviderProps = FacebookOptions & {\n  children: ReactNode;\n};\n\nexport default function FacebookProvider(props: FacebookProviderProps) {\n  const { children, ...options } = props;\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [error, setError] = useState<Error | undefined>();\n\n  async function init(): Promise<Facebook | undefined> {\n    try {\n      if (api) {\n        return api.init();\n      }\n\n      setIsReady(false);\n      setIsLoading(true);\n\n      api = new Facebook(options);\n\n      await api.init();\n\n      setIsReady(true);\n\n      return api;\n    } catch (error) {\n      setError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  async function parse(element: HTMLDivElement | HTMLSpanElement): Promise<void> {\n    const api = await init();\n    if (api) {\n      await api.parse(element);\n    }\n  }\n\n  useEffect(() => {\n    const { lazy } = options;\n    if (!lazy) {\n      init();\n    }\n  }, []);\n\n  const value: FacebookContextInterface = {\n    isLoading,\n    error,\n    init,\n    api: isReady ? api : undefined,\n    parse,\n  };\n\n  return (\n    <FacebookContext.Provider value={value}>\n      {children}\n    </FacebookContext.Provider>\n  );\n}\n","enum LoginStatus {\n  CONNECTED = 'connected',\n  AUTHORIZATION_EXPIRED = 'authorization_expired',\n  NOT_AUTHORIZED = 'not_authorized',\n  UNKNOWN = 'unknown',\n};\n\nexport default LoginStatus;\n","export default class FBError extends Error {\n  readonly code: number;\n  readonly type: string;\n\n  constructor(message: string, code: number, type: string) {\n    super(message);\n\n    this.code = code;\n    this.type = type;\n  }\n}","import LoginStatus from '../constants/LoginStatus';\nimport FBError from '../errors/FBError';\n\nexport type AuthResponse = {\n  userID: string; \n  accessToken: string;\n};\n\nexport type LoginResponse = {\n  status: LoginStatus.CONNECTED,\n  authResponse: AuthResponse,\n} | {\n  status: Exclude<LoginStatus, LoginStatus.CONNECTED>,\n};\n\nexport type LoginOptions = {\n  scope?: string;\n  returnScopes?: boolean;\n  authType?: string[];\n  rerequest?: boolean;\n  reauthorize?: boolean;\n};\ndeclare global {\n  interface Window { \n    fbAsyncInit: () => void;\n    FB: any;\n  }\n}\n\nexport enum Method {\n  GET = 'get',\n  POST = 'post',\n  DELETE = 'delete',\n};\n\nexport enum Namespace {\n  UI = 'ui',\n  API = 'api',\n  LOGIN = 'login',\n  LOGOUT = 'logout',\n  GET_LOGIN_STATUS = 'getLoginStatus',\n  GET_AUTH_RESPONSE = 'getAuthResponse',\n}\n\nexport type FacebookOptions = {\n  domain?: string;\n  version?: string;\n  cookie?: boolean;\n  status?: boolean;\n  xfbml?: boolean;\n  language?: string;\n  frictionlessRequests?: boolean;\n  debug?: boolean;\n  chatSupport?: boolean;\n  appId: string;\n  autoLogAppEvents?: boolean;\n  lazy?: boolean;\n};\n\nconst defaultOptions: Omit<FacebookOptions, 'appId'> = {\n  domain: 'connect.facebook.net',\n  version: 'v14.0',\n  cookie: false,\n  status: false,\n  xfbml: false,\n  language: 'en_US',\n  frictionlessRequests: false,\n  debug: false,\n  chatSupport: false,\n  autoLogAppEvents: true,\n  lazy: false,\n};\n\nexport default class Facebook {\n  options: FacebookOptions;\n  loadingPromise: Promise<any>;\n\n  constructor(options: FacebookOptions) {\n    if (!options.appId) {\n      throw new Error('You need to set appId');\n    }\n\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    if (!this.options.lazy) {\n      this.init();\n    }\n  }\n\n  getAppId() {\n    return this.options.appId;\n  }\n\n  getFB() {\n    return window.FB;\n  }\n\n  async init(): Promise<Facebook> {\n    if (this.loadingPromise) {\n      return this.loadingPromise;\n    }\n\n    this.loadingPromise = new Promise((resolve) => {\n      const {\n        domain,\n        language,\n        debug,\n        chatSupport,\n        ...restOptions\n      } = this.options;\n\n      window.fbAsyncInit = () => {\n        window.FB.init({\n          appId: restOptions.appId,\n          version: restOptions.version,\n          cookie: restOptions.cookie,\n          status: restOptions.status,\n          xfbml: restOptions.xfbml,\n          frictionlessRequests: restOptions.frictionlessRequests,\n        });\n\n        resolve(this);\n      };\n\n      if (window.document.getElementById('facebook-jssdk')) {\n        return resolve(window.FB);\n      }\n      \n      const js = window.document.createElement('script');\n      js.id = 'facebook-jssdk';\n      js.async = true;\n      js.defer = true;\n      js.crossOrigin = 'anonymous';\n      js.src = `https://${domain}/${language}/sdk${chatSupport ? '/xfbml.customerchat' : ''}${debug ? '/debug' : ''}.js`;\n\n      window.document.body.appendChild(js);\n    });\n\n    return this.loadingPromise;\n  }\n\n  async process<Response>(namespace: Namespace, before: any[] = [], after: any[] = []): Promise<Response> {\n    const fb = await this.init();\n\n    return new Promise((resolve, reject) => {\n      // @ts-ignore\n      fb[namespace](...before, (response: Response | { error: { code: number, type: string, message: string} }) => {\n        if (!response) {\n          if (namespace === Namespace.UI) return;\n          reject(new Error('Response is undefined'));\n        } else if ('error' in response) {\n          const { code, type, message } = response.error;\n\n          reject(new FBError(message, code, type));\n        } else {\n          resolve(response);\n        }\n      }, ...after);\n    });\n  }\n\n  async ui(options) {\n    return this.process(Namespace.UI, [options]);\n  }\n\n  async api<T>(path, method = Method.GET, params = {}) {\n    return this.process<T>(Namespace.API, [path, method, params]);\n  }\n\n  async login(options: LoginOptions) {\n    const { scope, authType = [], returnScopes, rerequest, reauthorize } = options;\n    const loginOptions: {\n      return_scopes?: boolean;\n      auth_type?: string;\n      scope?: string;\n    } = {\n      scope,\n    };\n\n    if (returnScopes) {\n      loginOptions.return_scopes = true;\n    }\n\n    if (rerequest) {\n      authType.push('rerequest');\n    }\n\n    if (reauthorize) {\n      authType.push('reauthenticate');\n    }\n\n    if (authType.length) {\n      loginOptions.auth_type = authType.join(',');\n    }\n\n    return this.process<LoginResponse>(Namespace.LOGIN, [], [loginOptions]);\n  }\n\n  async logout() {\n    return this.process(Namespace.LOGOUT);\n  }\n\n\n  async getLoginStatus(): Promise<LoginResponse> {\n    return this.process<LoginResponse>(Namespace.GET_LOGIN_STATUS);\n  }\n\n  async getAuthResponse() {\n    return this.process(Namespace.GET_AUTH_RESPONSE);\n  }\n\n  async getTokenDetail(loginResponse?: LoginResponse): Promise<AuthResponse> {\n    if (loginResponse?.status === LoginStatus.CONNECTED) {\n      return loginResponse.authResponse;\n    }\n\n    const response = await this.getLoginStatus();\n\n    if (response.status === LoginStatus.CONNECTED) {\n      return response.authResponse;\n    }\n\n    throw new Error('Token is undefined');\n  }\n\n  async getProfile(params) {\n    return this.api('/me', Method.GET, params);\n  }\n\n  async getTokenDetailWithProfile(params, response) {\n    const tokenDetail = await this.getTokenDetail(response);\n    const profile = await this.getProfile(params);\n\n    return {\n      profile,\n      tokenDetail,\n    };\n  }\n\n  async getToken(): Promise<string> {\n    const authResponse = await this.getTokenDetail();\n    return authResponse.accessToken;\n  }\n\n  async getUserId(): Promise<string> {\n    const authResponse = await this.getTokenDetail();\n    return authResponse.userID;\n  }\n\n  async sendInvite(to, options) {\n    return this.ui({\n      to,\n      method: 'apprequests',\n      ...options,\n    });\n  }\n\n\n  async postAction(ogNamespace, ogAction, ogObject, ogObjectUrl, noFeedStory) {\n    let url = `/me/${ogNamespace}:${ogAction}?${ogObject}=${encodeURIComponent(ogObjectUrl)}`;\n\n    if (noFeedStory === true) {\n      url += '&no_feed_story=true';\n    }\n\n    return this.api(url, Method.POST);\n  }\n\n  async getPermissions() {\n    const response = await this.api<{ data: any }>('/me/permissions');\n    return response.data;\n  }\n\n  async hasPermissions(permissions) {\n    const usersPermissions = await this.getPermissions();\n\n    const findedPermissions = permissions.filter((p) => {\n      const currentPermission = usersPermissions.find((row) => {\n        const { permission, status } = row;\n        return status === 'granted' && permission === p;\n      });\n\n      return !!currentPermission;\n    });\n\n    return findedPermissions.length === permissions.length;\n  }\n\n  async subscribe(eventName, callback) {\n    await this.init();\n    this.getFB().Event.subscribe(eventName, callback);\n  }\n\n  async unsubscribe(eventName, callback) {\n    await this.init();\n    this.getFB().Event.unsubscribe(eventName, callback);\n  }\n\n  async parse(parentNode) {\n    await this.init();\n\n    if (typeof parentNode === 'undefined') {\n      this.getFB().XFBML.parse();\n    } else {\n      this.getFB().XFBML.parse(parentNode);\n    }\n  }\n\n  async getRequests() {\n    return this.api('/me/apprequests');\n  }\n\n  async removeRequest(requestID) {\n    return this.api(requestID, Method.DELETE);\n  }\n\n  async setAutoGrow() {\n    await this.init();\n    this.getFB().Canvas.setAutoGrow();\n  }\n\n  async paySimple(product, quantity = 1) {\n    return this.ui({\n      method: 'pay',\n      action: 'purchaseitem',\n      product,\n      quantity,\n    });\n  }\n\n  async pay(product, options) {\n    return this.ui({\n      method: 'pay',\n      action: 'purchaseitem',\n      product,\n      ...options,\n    });\n  }\n}\n\n/*\n  sendToFriends: function(options, callback) {\n    if(!options) {\n      options = {};\n    }\n\n    options.method = 'send';\n\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.ui(options, function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  sendMessage: function(message, name, caption, description, url, imgUrl, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.ui({\n        method: 'stream.publish',\n        message: message,\n        attachment: {\n          name: name,\n          caption: caption,\n          description: description,\n          href: url,\n          media:[{\n            type: 'image',\n            src:  imgUrl,\n            href: url\n          }]\n        },\n        action_links: [{\n          text: 'Code',\n          href: url\n        }],\n        user_prompt_message: message\n      },\n      function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  sendInviteForm: function(options, callback) {\n    if(typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      options.method = options.method || 'apprequests';\n\n\n      FB.ui(options, function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  checkPageLike: function(pageID, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      fbApi.getUserID(function(err, userID) {\n        if(err) {\n          return callback(err);\n        }\n\n        var fqlQuery = `SELECT uid FROM page_fan WHERE page_id = ${pageID} and uid = ${userID}`;\n        var query = FB.Data.query(fqlQuery);\n\n        query.wait(function(rows) {\n          if (rows.length === 1 && rows[0].uid === userID) {\n            callback(null, true, query);\n          }\n          else {\n            callback(null, false, query);\n          }\n        });\n      });\n    });\n  },\n\n  sendMessageToFriend: function (friendID, link, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.ui({\n        to: friendID,\n        method: 'send',\n        link: link\n      }, function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  _prepareUsers: function(data) {\n    var users=[];\n\n    for(var index in data) {\n      var userData=data[index];\n\n      var user = {\n        provider_uid: 'facebook'+'_'+userData.uid,\n        provider: 'facebook',\n        id: userData.uid,\n        name: userData.name,\n        first_name: userData.first_name,\n        last_name: userData.last_name,\n        status: (userData.status!==null) ? userData.status : null,\n        image: '//graph.facebook.com/'+userData.uid+'/picture?'\n      };\n\n      users.push(user);\n    }\n\n    return users;\n  },\n\n  getUserList: function(callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.api('fql', {\n        q: `\n          SELECT uid, name, first_name, last_name, online_presence, status\n          FROM user\n          WHERE uid IN\n            ( SELECT uid2 FROM friend WHERE uid1 = me()) ORDER BY name\n        `,\n      }, function (response)\n      {\n        var users = fbApi._prepareUsers(response.data);\n        callback(null, users, response);\n      });\n    });\n  },\n\n  postFeed: function(options, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      options.method='feed';\n\n      FB.ui(options, function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  //need publish_stream\n  createAlbum: function(name, description, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.api('/me/albums', 'post', {\n        name: name,\n        description: description\n      },function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  //need publish_stream\n  addImageToAlbum: function(albumID, imageURL, message, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.api('/'+albumID+'/photos', 'post', {\n        message: message,\n        url: imageURL\n      }, function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  //'user_photos'\n  getAlbums: function(callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.api('/me/albums', function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  //'user_photos'\n  getAlbumPhotos: function(albumID, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.api('/'+albumID+'/photos', function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  //'user_photos'\n  getAlbumCoverPicture: function(albumID, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.api('/'+albumID+'/picture', function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  //'publish_stream'\n  postPhoto: function(photoUrl, message, callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.api('/me/photos', 'post', {\n        message: message,\n        url: photoUrl\n      },function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  },\n\n  getPageInfo: function(callback) {\n    this.afterLoad(function(err, fbApi) {\n      if(err) {\n        return callback(err);\n      }\n\n      FB.Canvas.getPageInfo(function(response) {\n        fbApi._callCallbackByResponse(callback, response);\n      });\n    });\n  }\n*/\n","import { createContext } from 'react';\nimport Facebook from '../utils/Facebook';\n\nexport type FacebookContextInterface = {\n  isLoading: boolean;\n  error: Error | undefined;\n  init: () => Promise<Facebook | undefined>;\n  api: Facebook | undefined;\n  parse: (element: HTMLDivElement | HTMLSpanElement) => Promise<void>;\n};\n\nexport default createContext<FacebookContextInterface | undefined>(undefined);\n","import { useState, memo, forwardRef, type ReactNode, useEffect, useCallback } from 'react';\nimport useFacebook from '../hooks/useFacebook';\n\nexport type ParserProps = {\n  children: ReactNode;\n  inline?: boolean;\n};\n\ntype ParserInternalProps = {\n  children: ReactNode;\n  inline?: boolean;\n};\n\nconst ParserInternal = memo(forwardRef((props: ParserInternalProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n  const { inline, children, ...rest } = props;\n  const Tag = inline ? 'span' : 'div';\n\n  return (\n    <Tag {...rest} ref={ref}>\n      {children}\n    </Tag>\n  );\n}));\n\nfunction Parser(props: ParserProps) {\n  const { children, inline, ...rest } = props;\n  const { parse } = useFacebook();\n  const [element, setElement] = useState<HTMLDivElement | HTMLSpanElement | null>(null);\n\n  const handleRef = useCallback((element: HTMLDivElement | HTMLSpanElement | null) => {\n    setElement(element);\n  }, []);\n\n  useEffect(() => {\n    if (element) {\n      parse(element);\n    }\n  }, [element]);\n\n  return (\n    <ParserInternal inline={inline} {...rest} ref={handleRef}>\n      {children}\n    </ParserInternal>\n  );\n}\n\nexport default memo(Parser);","import { useContext, useEffect } from 'react';\nimport FacebookContext, { type FacebookContextInterface } from '../components/FacebookContext';\n\nexport type UseFacebookProps = {\n  lazy?: boolean;\n};\n\nexport default function useFacebook(props: UseFacebookProps = {}): FacebookContextInterface {\n  const { lazy = false } = props;\n\n  const context: FacebookContextInterface = useContext(FacebookContext);\n  if (!context) {\n    throw new Error('useFacebook must be used within a FacebookProvider');\n  }\n\n  useEffect(() => {\n    if (!lazy) {\n      context.init();\n    }\n  }, [lazy]);\n\n  return context;\n}\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type LikeProps = {\n  referral?: string;\n  href?: string;\n  layout?: string;\n  showFaces?: boolean;\n  colorScheme?: string;\n  action?: string;\n  share?: boolean;\n  children?: ReactNode;\n  width?: number | string;\n  size?: string;\n  kidDirectedSite?: boolean;\n};\n\nfunction Like(props: LikeProps, ref: any) {\n  const {\n    href = getCurrentHref(),\n    layout,\n    colorScheme,\n    action,\n    showFaces,\n    share,\n    children,\n    width,\n    size,\n    kidDirectedSite,\n    referral,\n    ...rest\n  } = props;\n\n  console.log('RENDERING like');\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-like\"\n        data-ref={referral}\n        data-href={href}\n        data-layout={layout}\n        data-colorscheme={colorScheme}\n        data-action={action}\n        data-show-faces={showFaces}\n        data-share={share}\n        data-width={width}\n        data-size={size}\n        data-kid-directed-site={kidDirectedSite}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(Like));\n","import canUseDOM from 'can-use-dom';\n\nexport default function getCurrentHref() {\n  if (!canUseDOM) {\n    return 'https://www.facebook.com';\n  }\n\n  return window.location.href;\n}\n","import { useState } from 'react';\nimport clearUndefinedProperties from '../utils/clearUndefinedProperties';\nimport useFacebook from './useFacebook';\n\nexport type ShareOptions = {\n  href: string;\n  display: 'iframe' | 'popup' | 'async' | 'page';\n  hashtag?: string;\n  redirectUri?: string;\n};\n\nexport default function useShare() {\n  const { init } = useFacebook();\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<Error | undefined>(undefined);\n\n  async function handleShare(options: ShareOptions) {\n    try {\n      const {\n        href,\n        display,\n        hashtag,\n        redirectUri,\n        ...rest\n      } = options;\n\n      setError(undefined);\n      setIsLoading(true);\n  \n      const api = await init();\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n  \n      return api.ui(clearUndefinedProperties({\n        method: 'share',\n        href,\n        display,\n        app_id: api.getAppId(),\n        hashtag,\n        redirect_uri: redirectUri,\n        ...rest,\n      }));\n    } catch (error) {\n      setError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return {\n    isLoading,\n    error,\n    share: handleShare,\n  };\n}\n","export default function clearUndefinedProperties(obj: Record<string, any>): Record<string, any> {\n  if (!obj) {\n    return obj;\n  }\n\n  const newObj = {};\n\n  Object.keys(obj).forEach((propertyName) => {\n    const value = obj[propertyName];\n    if (value !== undefined) {\n      newObj[propertyName] = value;\n    }\n  });\n\n  return newObj;\n}\n","import { type ReactNode, type ComponentType } from 'react';\nimport useShare, { type ShareOptions } from '../hooks/useShare';\n\nexport type LoginButton = ShareOptions & {\n  children?: ReactNode;\n  asChild?: ComponentType | keyof JSX.IntrinsicElements;\n  disabled?: boolean;\n};\n\nexport default function ShareButton(props: LoginButton) {\n  const {\n    children,\n    asChild: AsChild = 'button',\n    disabled,\n    href,\n    display,\n    hashtag,\n    redirectUri,\n    ...rest\n  } = props;\n\n  const { isLoading, share } = useShare();\n\n  function handleShare() {\n    if (isLoading) {\n      return;\n    }\n\n    share({\n      href,\n      display,\n      hashtag,\n      redirectUri,\n    });\n  }\n\n  return (\n    <AsChild\n      onClick={handleShare}\n      disabled={isLoading}\n      {...rest}\n    >\n      {children}\n    </AsChild>\n  );\n}\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type PageProps = {\n  href?: string;\n  tabs?: string;\n  hideCover?: boolean;\n  height?: number | string;\n  width?: number | string;\n  showFacepile?: boolean;\n  hideCTA?: boolean;\n  smallHeader?: boolean;\n  adaptContainerWidth?: boolean;\n  children?: ReactNode;\n  style?: Object;\n};\n\nfunction Page(props: PageProps, ref: any) {\n  const {\n    style,\n    href = getCurrentHref(),\n    tabs,\n    hideCover,\n    width,\n    height,\n    showFacepile,\n    hideCTA,\n    smallHeader,\n    adaptContainerWidth,\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-page\"\n        style={style}\n        data-tabs={tabs}\n        data-hide-cover={hideCover}\n        data-show-facepile={showFacepile}\n        data-hide-cta={hideCTA}\n        data-href={href}\n        data-small-header={smallHeader}\n        data-adapt-container-width={adaptContainerWidth}\n        data-height={height}\n        data-width={width}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(Page));\n","import { useState } from 'react';\nimport useFacebook from './useFacebook';\nimport { type LoginResponse } from '../utils/Facebook';\nimport LoginStatus from '../constants/LoginStatus';\n\nexport type LoginOptions = {\n  scope?: string;\n  returnScopes?: boolean;\n  authType?: string[];\n  rerequest?: boolean;\n  reauthorize?: boolean;\n};\n\nexport default function useLogin() {\n  const { api, isLoading } = useFacebook();\n  const [error, setError] = useState<Error | undefined>(undefined);\n  const [isLoadingLogin, setIsLoadingLogin] = useState<boolean>(false);\n  const [latestResponse, setLatestResponse] = useState<LoginResponse | undefined>();\n\n  async function handleLogin(loginOptions: LoginOptions, callback?: (response: LoginResponse) => void) {\n    try {\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n\n      setIsLoadingLogin(true);\n\n      const response = await api.login(loginOptions);\n      if (response.status !== LoginStatus.CONNECTED) {\n        throw new Error('Unauthorized user');\n      }\n\n      setLatestResponse(response);\n\n      callback?.(response);\n      return response;\n    } catch (error: any) {\n      setError(error);\n      throw(error);\n    } finally {\n      setIsLoadingLogin(false);\n    }\n  }\n\n  return {\n    login: handleLogin,\n    error,\n    isLoading: isLoading || isLoadingLogin,\n    status: latestResponse?.status,\n  };\n}\n","import { type ReactNode, type ComponentType } from 'react';\nimport useLogin, { type LoginOptions } from '../hooks/useLogin';\nimport { type LoginResponse } from '../utils/Facebook';\n\nexport type LoginButton = LoginOptions & {\n  children?: ReactNode;\n  asChild?: ComponentType | keyof JSX.IntrinsicElements;\n  disabled?: boolean;\n  onError?: (error: Error) => void;\n  onSuccess?: (response: LoginResponse) => void;\n};\n\nexport default function LoginButton(props: LoginButton) {\n  const {\n    children,\n    asChild: AsChild = 'button',\n    disabled,\n    scope,\n    returnScopes,\n    authType,\n    rerequest,\n    reauthorize,\n    onError,\n    onSuccess,\n    ...rest\n  } = props;\n\n  const { isLoading, login } = useLogin();\n\n  async function handleLogin() {\n    try {\n      if (isLoading) {\n        return;\n      }\n  \n      const response = await login({\n        scope,\n        returnScopes,\n        authType,\n        rerequest,\n        reauthorize,\n      });\n\n      onSuccess?.(response);\n    } catch (error: any) {\n      onError?.(error);\n    }\n  }\n\n  return (\n    <AsChild\n      onClick={handleLogin}\n      disabled={isLoading}\n      {...rest}\n    >\n      {children}\n    </AsChild>\n  );\n}\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\n\nexport type EmbeddedPostProps = {\n  href: string;\n  width?: string | number;\n  showText?: boolean;\n  children?: ReactNode;\n};\n\nfunction EmbeddedPost(props: EmbeddedPostProps, ref: any) {\n  const {\n    href,\n    width,\n    showText,\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-post\"\n        data-href={href}\n        data-width={width}\n        data-show-text={showText}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(EmbeddedPost));\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\n\nexport type EmbeddedVideoProps = {\n  href: string;\n  width?: number | string;\n  showText?: boolean;\n  allowFullScreen?: boolean;\n  autoPlay?: boolean;\n  showCaptions?: boolean;\n  children?: ReactNode;\n};\n\nfunction EmbeddedVideo(props: EmbeddedVideoProps, ref: any) {\n  const {\n    href,\n    width,\n    showText,\n    allowFullScreen,\n    autoPlay,\n    showCaptions,\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-video\"\n        data-href={href}\n        data-width={width}\n        data-show-text={showText}\n        data-show-captions={showCaptions}\n        data-autoplay={autoPlay}\n        data-allowfullscreen={allowFullScreen}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(EmbeddedVideo));\n","import { forwardRef, memo, type ReactNode } from 'react';\nimport Parser from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type CommentsProps = {\n  href?: string;\n  numPosts?: number;\n  orderBy?: string;\n  width?: number | string;\n  colorScheme?: string;\n  children?: ReactNode;\n  mobile?: boolean;\n};\n\nfunction Comments(props: CommentsProps, ref: any) {\n  const {\n    colorScheme,\n    href = getCurrentHref(),\n    numPosts,\n    orderBy,\n    width,\n    children,\n    mobile,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-comments\"\n        data-colorscheme={colorScheme}\n        data-numposts={numPosts}\n        data-href={href}\n        data-order-by={orderBy}\n        data-width={width}\n        data-skin={colorScheme}\n        data-mobile={mobile}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(Comments));\n","import { type ReactNode, forwardRef, memo } from 'react';\nimport Parser from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\ntype CommentsCountProps = {\n  href?: string;\n  children?: ReactNode;\n};\n\nfunction CommentsCount(props: CommentsCountProps, ref: any) {\n  const {\n    href = getCurrentHref(),\n    children,\n    ...rest\n  } = props;\n\n  return (\n    <Parser inline>\n      <span\n        className=\"fb-comments-count\"\n        data-href={href}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </span>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(CommentsCount));\n","import { type ReactNode, forwardRef, memo } from 'react';\nimport Parser from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type GroupProps = {\n  href?: string;\n  skin?: string;\n  showSocialContext?: boolean;\n  showMetaData?: boolean;\n  width?: number | string;\n  children?: ReactNode;\n  style?: Object;\n};\n\nfunction Group(props: GroupProps, ref: any) {\n  const {\n    style,\n    href = getCurrentHref(),\n    width,\n    showSocialContext,\n    showMetaData,\n    children,\n    skin,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-group\"\n        style={style}\n        data-href={href}\n        data-width={width}\n        data-show-social-context={showSocialContext}\n        data-show-metadata={showMetaData}\n        data-skin={skin}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(Group));\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\n\n// https://developers.facebook.com/docs/messenger-platform/reference/web-plugins#customer_chat\nexport type CustomChatProps = {\n  pageId: string;\n  children?: ReactNode;\n  themeColor?: string;\n  loggedInGreeting?: string;\n  loggedOutGreeting?: string;\n  dataRef?: string;\n  greetingDialogDisplay?: 'show' | 'fade' | 'hide',\n  greetingDialogDelay?: string,\n  minimized?: boolean,\n};\n\nfunction CustomChat(props: CustomChatProps, ref: any) {\n  const {\n    children,\n    pageId,\n    themeColor,\n    loggedInGreeting,\n    loggedOutGreeting,\n    dataRef,\n    greetingDialogDisplay,\n    greetingDialogDelay,\n    minimized,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-customerchat\"\n        // @ts-ignore\n        page_id={pageId}\n        theme_color={themeColor}\n        logged_in_greeting={loggedInGreeting}\n        logged_out_greeting={loggedOutGreeting}\n        greeting_dialog_display={greetingDialogDisplay}\n        greeting_dialog_delay={greetingDialogDelay}\n        data-ref={dataRef}\n        minimized={minimized}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(CustomChat));\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\n\n// https://developers.facebook.com/docs/messenger-platform/reference/web-plugins#message_us\nexport type MessageUsProps = {\n  messengerAppId: string;\n  pageId: string;\n  color?: 'blue' | 'white';\n  children?: ReactNode;\n  size?: 'standard' | 'large' | 'xlarge';\n  dataRef?: string;\n};\n\nfunction MessageUs(props: MessageUsProps, ref: any) {\n  const {\n    color,\n    messengerAppId,\n    pageId,\n    children,\n    size,\n    dataRef,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-messengermessageus\"\n        // @ts-ignore\n        messenger_app_id={messengerAppId} \n        page_id={pageId}\n        data-color={color}\n        data-size={size}\n        data-ref={dataRef}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(MessageUs));\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\n\nexport type MessengerCheckboxProps = {\n  messengerAppId: string;\n  pageId: string;\n  userRef?: string;\n  origin?: string;\n  children?: ReactNode;\n  size?: string;\n  prechecked?: boolean;\n  allowLogin?: boolean;\n  centerAlign?: boolean;\n  skin?: string;\n};\n\nfunction MessengerCheckbox(props: MessengerCheckboxProps, ref: any) {\n  const {\n    origin,\n    prechecked,\n    allowLogin,\n    userRef,\n    messengerAppId,\n    pageId,\n    children,\n    size,\n    centerAlign,\n    skin,\n    ...rest\n  } = props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-messenger-checkbox\"\n        // @ts-ignore\n        messenger_app_id={messengerAppId}\n        page_id={pageId}\n        size={size}\n        origin={origin}\n        user_ref={userRef}\n        prechecked={prechecked}\n        allow_login={allowLogin}\n        skin={skin}\n        center_align={centerAlign}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(MessengerCheckbox));\n","import { type ReactNode, memo, forwardRef } from 'react';\nimport Parser from './Parser';\n\n// https://developers.facebook.com/docs/messenger-platform/reference/web-plugins#send_to_messenger\nexport type SendToMessengerProps = {\n  messengerAppId: string;\n  pageId: string;\n  color?: 'blue' | 'white';\n  children?: ReactNode;\n  dataRef?: string;\n  size?: 'standard' | 'large' | 'xlarge';\n  enforceLogin?: boolean;\n};\n\nfunction SendToMessenger(props: SendToMessengerProps, ref: any) {\n  const {\n    color,\n    messengerAppId,\n    pageId,\n    children,\n    dataRef,\n    size,\n    enforceLogin,\n    ...rest\n  } = this.props;\n\n  return (\n    <Parser>\n      <div\n        className=\"fb-send-to-messenger\"\n        messenger_app_id={messengerAppId}\n        page_id={pageId}\n        data-color={color}\n        data-size={size}\n        data-ref={dataRef}\n        enforce_login={enforceLogin}\n        {...rest}\n        ref={ref}\n      >\n        {children}\n      </div>\n    </Parser>\n  );\n}\n\nexport default memo(forwardRef(SendToMessenger));\n","enum LikeSize {\n  SMALL = 'small',\n  LARGE = 'large',\n};\n\nexport default LikeSize;\n","enum LikeLayout {\n  STANDARD = 'standard',\n  BUTTON_COUNT = 'button_count',\n  BUTTON = 'button',\n  BOX_COUNT = 'box_count',\n};\n\nexport default LikeLayout;\n\n","enum ColorScheme {\n  LIGHT = 'light',\n  DARK = 'dark',\n};\n\nexport default ColorScheme;\n\n","enum LikeAction {\n  LIKE = 'like',\n  RECOMMEND = 'recommend',\n};\n\nexport default LikeAction;\n","enum CommentsOrderBy {\n  SOCIAL = 'social',\n  REVERSE_TIME = 'reverse_time',\n  TIME = 'time',\n};\n\nexport default CommentsOrderBy;\n","enum MessengerSize {\n  SMALL = 'small',\n  MEDIUM = 'medium',\n  STANDARD = 'standard',\n  LARGE = 'large',\n  XLARGE = 'xlarge',\n};\n\nexport default MessengerSize;\n","enum MessengerColor {\n  BLUE = 'blue',\n  WHITE = 'white',\n};\n\nexport default MessengerColor;\n","// @flow\n// 3.0 fields without app review https://developers.facebook.com/docs/facebook-login/permissions/?locale=en_US#reference-default\nexport default [\n  'id', 'first_name', 'last_name', 'middle_name',\n  'name', 'name_format', 'picture', 'short_name', 'email',\n];\n","import { useEffect, useState, useCallback } from 'react';\nimport useFacebook from './useFacebook';\nimport useSubscribe from './useSubscribe';\nimport LoginStatus from '../constants/LoginStatus';\n\nexport default function useLoginStatus(): {\n  isLoading: boolean;\n  error?: Error;\n  status?: LoginStatus;\n} {\n  const { init } = useFacebook();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<Error | undefined>(undefined);\n  const [status, setStatus] = useState<LoginStatus>(LoginStatus.UNKNOWN);\n\n  const handleStatusChanges = useCallback((response) => {\n    setStatus(response.status);\n  }, []);\n\n  useSubscribe('auth.statusChange', handleStatusChanges);\n\n  async function handleGetInitState() {\n    try {\n      setIsLoading(true);\n      const api = await init();\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n\n      const { status } = await api.getLoginStatus();\n      setStatus(status);\n    } catch (error: any) {\n      setError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    handleGetInitState();\n  }, []);\n  \n  return {\n    isLoading,\n    error,\n    status,\n  };\n}","import { useCallback, useEffect, useState } from 'react';\nimport useFacebook from './useFacebook';\n\nexport default function useSubscribe<T>(event: string, callback?: (data: any) => void): T | undefined {\n  const [lastValue, setLastValue] = useState<T | undefined>(undefined);\n  const { init } = useFacebook();\n\n  const handleResponse = useCallback((value: T) => {\n    setLastValue(value);\n    callback?.(lastValue);\n  }, [callback]);\n\n  const handleSubscribe = useCallback(async () => {\n    const api = await init();\n    if (api) {\n      await api.subscribe(event, handleResponse);\n    }\n  }, [event, handleResponse]);\n\n  const handleUnsubscribe = useCallback(async () => {\n    const api = await init();\n    if (api) {\n      await api.unsubscribe(event, handleResponse);\n    }\n  }, [event, handleResponse]);\n\n\n  useEffect(() => {\n    handleSubscribe();\n\n    return () => {\n      handleUnsubscribe();\n    };\n  }, [handleSubscribe]);\n\n  return lastValue;\n}\n","import { useState, useEffect } from 'react';\nimport LoginStatus from '../constants/LoginStatus';\nimport useFacebook from './useFacebook';\nimport useLoginStatus from \"./useLoginStatus\";\n\nexport default function useProfile(fields: string[]) {\n  const { init } = useFacebook();\n  const { status } = useLoginStatus();\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [profile, setProfile] = useState<any>(undefined);\n  const [error, setError] = useState<Error | undefined>(undefined);\n\n  async function updateProfile() {\n    try {\n      setError(undefined);\n      setIsLoading(true);\n\n      const api = await init();\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n\n      if (status === LoginStatus.CONNECTED) {\n        const profile = await api.getProfile({\n          fields,\n        });\n\n        setProfile(profile);\n      }\n    } catch (error: any) {\n      setError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    updateProfile();\n  }, [status, fields]);\n\n  return {\n    isLoading,\n    error,\n    profile,\n  };\n}\n"]}